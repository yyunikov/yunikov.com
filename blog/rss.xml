<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/css" href="http://yunikov.com/css/rss.css" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Yuriy Yunikov | Java and Android Software Engineer</title>
    <link>http://yunikov.com</link>
    <atom:link href="http://yunikov.com/blog/rss.xml" rel="self" type="application/rss+xml" />
    <description>Personal Web-Site</description>
    <language>en-us</language>
    <pubDate>Wed, 18 Feb 2015 23:25:06 +0200</pubDate>
    <lastBuildDate>Wed, 18 Feb 2015 23:25:06 +0200</lastBuildDate>

    
    <item>
      <title>Working with local SQLite database | Yuriy Yunikov</title>
      <link>http://yunikov.com//blog/rss.xml</link>
      <pubDate>Wed, 04 Feb 2015 00:00:00 +0200</pubDate>
      <author>Yuriy Yunikov</author>
      <guid>http://yunikov.com//blog/android/2015/02/04/Working-With-Local-SQLite-Database</guid>
      <description>&lt;p&gt;While creating Android apps, we often use SQLite database to store some data. Sometimes we just need to reuse the existing database stored locally on the device. One of the ways is just to store your local SQLite database in &lt;code&gt;/res/assets&lt;/code&gt; folder. Let's consider this example and look at one of the approaches for using it in code.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Creating database helper classes&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;First thing that we need to do is to create a class, which extends &lt;code&gt;SQLiteOpenHelper&lt;/code&gt; and looks for our database in the &lt;code&gt;/res/assets&lt;/code&gt; folder of your Android app.
&lt;github-gist gistid=&quot;0e8448d0b7eeaee71782&quot; file=&quot;SQLiteAssetsHelper.java&quot;&gt;&lt;/github-gist&gt;&lt;/p&gt;

&lt;p&gt;We can create a simple &lt;a href=&quot;http://en.wikipedia.org/wiki/Singleton_pattern&quot;&gt;Singleton&lt;/a&gt; which extends &lt;code&gt;SQLiteAssetsHelper&lt;/code&gt; and overrides it's &lt;code&gt;onCreate()&lt;/code&gt; and &lt;code&gt;onUpgrade()&lt;/code&gt; methods. Let's leave them empty for now, but you can do upgrading of your database here or any other work needed on creation of your database later.
&lt;github-gist gistid=&quot;0e8448d0b7eeaee71782&quot; file=&quot;DbHelper.java&quot;&gt;&lt;/github-gist&gt;&lt;/p&gt;

&lt;p&gt;Taking into account the fact that we need to open and get the database instance to work with it all the time, we can create a simple manager for that. This class will also help to prevent the concurrent access to our database, because we use &lt;code&gt;synchronized&lt;/code&gt; word here.
&lt;github-gist gistid=&quot;0e8448d0b7eeaee71782&quot; file=&quot;DbManager.java&quot;&gt;&lt;/github-gist&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Database entities and queries&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;If in our local database we have multiple entities, it would be good to make some superclass for them.
&lt;github-gist gistid=&quot;0e8448d0b7eeaee71782&quot; file=&quot;Entity.java&quot;&gt;&lt;/github-gist&gt;&lt;/p&gt;

&lt;p&gt;One of the popular ways of quering objects is the &lt;a href=&quot;http://en.wikipedia.org/wiki/Data_access_object&quot;&gt;DAO&lt;/a&gt; pattern.
To make easier creating of &lt;code&gt;DAO&lt;/code&gt; classes we can create a master class for them which will contain some of the common popular methods, mostly the &lt;a href=&quot;http://en.wikipedia.org/wiki/Create,_read,_update_and_delete&quot;&gt;CRUD&lt;/a&gt; operations.
&lt;github-gist gistid=&quot;0e8448d0b7eeaee71782&quot; file=&quot;DaoMaster.java&quot;&gt;&lt;/github-gist&gt;&lt;/p&gt;

&lt;p&gt;If we will need to create &lt;code&gt;DAO&lt;/code&gt; class for some entity later, we will just extend the &lt;code&gt;DaoMaster&lt;/code&gt; class.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt; Common Adapter&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;To make our life easier in future when working with &lt;code&gt;ListView&lt;/code&gt;, &lt;code&gt;Spinner&lt;/code&gt; or any other Android views which need &lt;code&gt;Adapter&lt;/code&gt; classes, we can create a parent &lt;code&gt;Adapter&lt;/code&gt; class for our entities.
&lt;github-gist gistid=&quot;0e8448d0b7eeaee71782&quot; file=&quot;EntityAdapter.java&quot;&gt;&lt;/github-gist&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Usage and Example&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The adapter above will very useful in future, when you will create a new &lt;code&gt;Entity&lt;/code&gt;. Let's consider the example if we have the new &lt;code&gt;Entity&lt;/code&gt; from the database called &lt;code&gt;NamedEntity&lt;/code&gt;.
&lt;github-gist gistid=&quot;0e8448d0b7eeaee71782&quot; file=&quot;NamedEntity.java&quot;&gt;&lt;/github-gist&gt;&lt;/p&gt;

&lt;p&gt;Creating an adapter for such entity will be easy and look in the following way.
&lt;github-gist gistid=&quot;0e8448d0b7eeaee71782&quot; file=&quot;NamedEntityAdapter.java&quot;&gt;&lt;/github-gist&gt;&lt;/p&gt;

&lt;p&gt;After writing such a lot of code, let's take a loook on the example usage of everthing together that we've created. I will assume that we have an entity called &lt;code&gt;Some&lt;/code&gt; (which extends &lt;code&gt;Entity&lt;/code&gt; class) and the &lt;code&gt;DAO&lt;/code&gt; for it, called &lt;code&gt;SomeDao&lt;/code&gt; (which extends &lt;code&gt;DaoMaster&lt;/code&gt; class).
&lt;github-gist gistid=&quot;0e8448d0b7eeaee71782&quot; file=&quot;Usage.java&quot;&gt;&lt;/github-gist&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Conclusion&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Described approach of working with local database may look very complicated, however it helps a lot if you have multiple entities and queries to your local database and showed itself for me as a good long term solution.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Handling uncaught exceptions in Java web applications | Yuriy Yunikov</title>
      <link>http://yunikov.com//blog/rss.xml</link>
      <pubDate>Tue, 03 Feb 2015 00:00:00 +0200</pubDate>
      <author>Yuriy Yunikov</author>
      <guid>http://yunikov.com//blog/java/2015/02/03/Handling-Uncaught-Exceptions-in-Java-web-applications</guid>
      <description>&lt;p&gt;In Java web applications we have to be sure we are handling all exceptions and log them in the right way. One common approach that I've used on a few projects is a creation of &lt;a href=&quot;http://docs.oracle.com/javaee/5/api/javax/servlet/Filter.html&quot;&gt;Filter&lt;/a&gt; for every request which will handle that. Here is a very basic example how it may look like.
&lt;github-gist gistid=&quot;7658a2dd46095c85cf7a&quot;&gt;&lt;/github-gist&gt;&lt;/p&gt;

&lt;p&gt;You can add multiple catch blocks for different kind of exceptions and even write something to the &lt;a href=&quot;http://docs.oracle.com/javaee/5/api/javax/servlet/ServletResponse.html&quot;&gt;ServletResponse&lt;/a&gt; if needed.&lt;/p&gt;

&lt;p&gt;Also, another way of handling exceptions and responding on the different error codes is catching everything in &lt;a href=&quot;http://docs.oracle.com/javaee/1.3/api/javax/servlet/http/HttpServlet.html&quot;&gt;HttpServlet&lt;/a&gt;. In your &lt;code&gt;web.xml&lt;/code&gt; file, just create the following configuration.
&lt;github-gist gistid=&quot;25442fe77b94028bcc0f&quot; file=&quot;error-web.xml&quot;&gt;&lt;/github-gist&gt;&lt;/p&gt;

&lt;p&gt;And create some &lt;code&gt;ErrorHandler&lt;/code&gt; class for that.
&lt;github-gist gistid=&quot;25442fe77b94028bcc0f&quot; file=&quot;ErrorHandler.java&quot;&gt;&lt;/github-gist&gt;&lt;/p&gt;

&lt;p&gt;If you are using &lt;code&gt;Spring&lt;/code&gt; or any other popular framework, you just need to create proper request mapping on &lt;code&gt;/error&lt;/code&gt; link.&lt;/p&gt;
</description>
    </item>
    

  </channel> 
</rss>